<div class="ui-g-12">
  <div class="ui-lg-5 ui-md-5 ui-sm-12">
    <button pButton
      type="button"
      (click)="backToShowReport()"
      label="Back"
      class="backBtnStyle"
      style="margin-left: 14%;
    margin-bottom: -3%;
    height: 35px;
    width: 30%;
    width: 50%;"></button>
  </div>
</div>
<div class="ui-g-12">
  <p-card header="LAB TEST"
    [style]="{
  'font-size': '20px',
    'text-align': 'center',
    width: '100%',
  color: '#479761',
  'margin-bottom':'20px'
}">
    <p-toast> </p-toast>
    <div class="ui-g">
      <hr style="height:2px;width:100%;background-color:#479761; margin-top: 0px" />
      <form class="media"
        style="width:100%;margin-left: 5%;"
        #myForm="ngForm">
        <!-- Lab Test field -->
        <div class="ui-g">
          <div class="ui-lg-offset-3 ui-lg-5 ui-md-offset-3 ui-md-5 ui-sm-6">

            <p-dropdown [options]="selectedLabTest"
              name="Labtest Name"
              (onChange)="getLabTestsInDropDown()"
              [(ngModel)]="labtestName"
              filter="true"
              [style]="{width:'350px',height:'35px'}"
              pTooltip="Select labtest Name"
              tooltipPosition="top"
              tooltipEvent="hover"
              placeholder="Select LabTest">
            </p-dropdown>
          </div>
        </div>

        <!-- Department Field -->



        <div class="ui-g">
          <div class="ui-lg-offset-3 ui-lg-5 ui-md-offset-3 ui-md-5 ui-sm-6">




            <p-dropdown [options]="departments"
              name="Department_Name"
              (onChange)="showSelectedDept()"
              [(ngModel)]="departmentName"
              filter="true"
              [style]="{width:'350px',height:'35px'}"
              pTooltip="Select Department Name"
              tooltipPosition="top"
              tooltipEvent="hover"
              placeholder="Select Deparment">
            </p-dropdown>


            <!--Get Event on department insertion-->
          </div>
          <div class="ui-lg-2  ui-md-2 ui-sm-offset-4 ui-sm-2">
            <app-department (valueChange)='getDepartment()'
              [editDepartment]="departmentName"></app-department>
          </div>
        </div>
        <!-- Sub Test Field -->

        <div class="ui-g">
          <div class="ui-lg-offset-3 ui-lg-5 ui-md-offset-3 ui-md-5 ui-sm-6">
            <p-dropdown [options]="subTest"
              required
              [(ngModel)]="subtestName"
              name="subtest"
              filter="true"
              [style]="{width:'350px',height:'35px'}"
              pTooltip="Select Subtest Name"
              tooltipPosition="top"
              tooltipEvent="hover"
              placeholder="Select Subtest">
            </p-dropdown>

          </div>
          <div class="ui-lg-2  ui-md-2 ui-sm-offset-4 ui-sm-2">
            <app-sub-test (valueChange)='getSubTest()'
              [editSubtest]="subtestName"></app-sub-test>
          </div>
        </div>

        <div class="ui-g">
          <div class="ui-lg-offset-3 ui-lg-5 ui-md-offset-3 ui-md-5 ui-sm-6">
            <p-dropdown [options]="unit"
              name="unit"
              required
              [(ngModel)]="unitName"
              filter="true"
              [style]="{width:'350px',height:'35px'}"
              pTooltip="Select Unit Name"
              tooltipPosition="top"
              tooltipEvent="hover"
              placeholder="Select Unit">

            </p-dropdown>
          </div>
          <div class="ui-lg-2  ui-md-2 ui-sm-offset-4 ui-sm-2">
            <app-unit (valueChange)="getUnit()"
              [editUnittest]="unitName">
            </app-unit>
          </div>
        </div>
        <!-- Normal Values Field -->
        <div class="ui-g">
          <div class="ui-lg-offset-3 ui-lg-5 ui-md-offset-3 ui-md-5 ui-sm-6">
            <p-dropdown [options]="normalValue"
              required
              [(ngModel)]="normalvalueName"
              name="normalValue"
              filter="true"
              [style]="{width:'350px',height:'35px'}"
              pTooltip="Select Normal value"
              tooltipPosition="top"
              tooltipEvent="hover"
              placeholder="Select Normal value"></p-dropdown>
          </div>
          <div class="ui-lg-2  ui-md-2 ui-sm-offset-4 ui-sm-2">
            <app-normal-value (valueChange)="getNormalValue()"
              [editnormalValue]="normalvalueName">
            </app-normal-value>
          </div>
        </div>

        <!-- Save Button -->
        <br />


        <div class="ui-g">
          <div class="ui-lg-offset-3 ui-lg-5 ui-md-offset-3 ui-md-5  ui-sm-10">
            <button pButton
              type="button"
              [disabled]="myForm.invalid"
              label="Add"
              (click)="showReport()"
              class="backBtnStyle"
              style="width:75%">
            </button>
          </div>
        </div>
      </form>

    </div>
  </p-card>
</div>





<div class="ui-lg-12 ui-md-12 ui-sm-12">
  <app-report-table [generateReport]="generateReport"
    [sendReport]="sendReport"
    [labtestName]="labtestName"
    [deptName]="deptName">
  </app-report-table>
</div>



<div class="ui-g ui-fluid">
  <div class="ui-md-4 ui-lg-4"></div>
  <div class="ui-md-4 ui-lg-4 ui-sm-12">
    <button pButton
      type="button"
      [disabled]=!generateReport.length
      label="SAVE REPORT"
      (click)="postReport()"
      class="backBtnStyle">
    </button>
  </div>
</div>